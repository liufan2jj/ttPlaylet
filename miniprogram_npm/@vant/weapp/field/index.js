"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("../common/utils"),component_1=require("../common/component"),props_1=require("./props");(0,component_1.VantComponent)({field:!0,classes:["input-class","right-icon-class","label-class"],props:__assign(__assign(__assign(__assign({},props_1.commonProps),props_1.inputProps),props_1.textareaProps),{size:String,icon:String,label:String,error:Boolean,center:Boolean,isLink:Boolean,leftIcon:String,rightIcon:String,autosize:null,required:Boolean,iconClass:String,clickable:Boolean,inputAlign:String,customStyle:String,errorMessage:String,arrowDirection:String,showWordLimit:Boolean,errorMessageAlign:String,readonly:{type:Boolean,observer:"setShowClear"},clearable:{type:Boolean,observer:"setShowClear"},clearTrigger:{type:String,value:"focus"},border:{type:Boolean,value:!0},titleWidth:{type:String,value:"6.2em"},clearIcon:{type:String,value:"clear"},extraEventParams:{type:Boolean,value:!1}}),data:{focused:!1,innerValue:"",showClear:!1},watch:{value:function(e){e!==this.value&&(this.setData({innerValue:e}),this.value=e,this.setShowClear())},clearTrigger:function(){this.setShowClear()}},created:function(){this.value=this.data.value,this.setData({innerValue:this.value})},methods:{formatValue:function(e){var t=this.data.maxlength;return-1!==t&&e.length>t?e.slice(0,t):e},onInput:function(e){var t=(e.detail||{}).value,i=void 0===t?"":t,a=this.formatValue(i);return this.value=a,this.setShowClear(),this.emitChange(__assign(__assign({},e.detail),{value:a}))},onFocus:function(e){this.focused=!0,this.setShowClear(),this.$emit("focus",e.detail)},onBlur:function(e){this.focused=!1,this.setShowClear(),this.$emit("blur",e.detail)},onClickIcon:function(){this.$emit("click-icon")},onClickInput:function(e){this.$emit("click-input",e.detail)},onClear:function(){var e=this;this.setData({innerValue:""}),this.value="",this.setShowClear(),(0,utils_1.nextTick)((function(){e.emitChange({value:""}),e.$emit("clear","")}))},onConfirm:function(e){var t=(e.detail||{}).value,i=void 0===t?"":t;this.value=i,this.setShowClear(),this.$emit("confirm",i)},setValue:function(e){this.value=e,this.setShowClear(),""===e&&this.setData({innerValue:""}),this.emitChange({value:e})},onLineChange:function(e){this.$emit("linechange",e.detail)},onKeyboardHeightChange:function(e){this.$emit("keyboardheightchange",e.detail)},onBindNicknameReview:function(e){this.$emit("nicknamereview",e.detail)},emitChange:function(e){var t,i=this.data.extraEventParams;this.setData({value:e.value});var a=i?__assign(__assign({},e),{callback:function(e){t=e}}):e.value;return this.$emit("input",a),this.$emit("change",a),t},setShowClear:function(){var e=this.data,t=e.clearable,i=e.readonly,a=e.clearTrigger,n=this.focused,s=this.value,o=!1;t&&!i&&(o=!!s&&("always"===a||"focus"===a&&n));this.setView({showClear:o})},noop:function(){}}});
//# sourceMappingURL=index.js.map