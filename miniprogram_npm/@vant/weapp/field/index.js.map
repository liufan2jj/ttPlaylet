{"version":3,"file":"node_modules\\@vant\\weapp\\lib\\field\\index.js","names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","utils_1","require","component_1","props_1","VantComponent","field","classes","props","commonProps","inputProps","textareaProps","size","String","icon","label","error","Boolean","center","isLink","leftIcon","rightIcon","autosize","required","iconClass","clickable","inputAlign","customStyle","errorMessage","arrowDirection","showWordLimit","errorMessageAlign","readonly","type","observer","clearable","clearTrigger","border","titleWidth","clearIcon","extraEventParams","data","focused","innerValue","showClear","watch","setData","setShowClear","created","methods","formatValue","maxlength","slice","onInput","event","_a","detail","emitChange","onFocus","$emit","onBlur","onClickIcon","onClickInput","onClear","_this","nextTick","onConfirm","setValue","onLineChange","onKeyboardHeightChange","onBindNicknameReview","result","callback","setView","noop"],"sources":["node_modules\\@vant\\weapp\\lib\\field\\index.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../common/utils\");\nvar component_1 = require(\"../common/component\");\nvar props_1 = require(\"./props\");\n(0, component_1.VantComponent)({\n    field: true,\n    classes: ['input-class', 'right-icon-class', 'label-class'],\n    props: __assign(__assign(__assign(__assign({}, props_1.commonProps), props_1.inputProps), props_1.textareaProps), { size: String, icon: String, label: String, error: Boolean, center: Boolean, isLink: Boolean, leftIcon: String, rightIcon: String, autosize: null, required: Boolean, iconClass: String, clickable: Boolean, inputAlign: String, customStyle: String, errorMessage: String, arrowDirection: String, showWordLimit: Boolean, errorMessageAlign: String, readonly: {\n            type: Boolean,\n            observer: 'setShowClear',\n        }, clearable: {\n            type: Boolean,\n            observer: 'setShowClear',\n        }, clearTrigger: {\n            type: String,\n            value: 'focus',\n        }, border: {\n            type: Boolean,\n            value: true,\n        }, titleWidth: {\n            type: String,\n            value: '6.2em',\n        }, clearIcon: {\n            type: String,\n            value: 'clear',\n        }, extraEventParams: {\n            type: Boolean,\n            value: false,\n        } }),\n    data: {\n        focused: false,\n        innerValue: '',\n        showClear: false,\n    },\n    watch: {\n        value: function (value) {\n            if (value !== this.value) {\n                this.setData({ innerValue: value });\n                this.value = value;\n                this.setShowClear();\n            }\n        },\n        clearTrigger: function () {\n            this.setShowClear();\n        },\n    },\n    created: function () {\n        this.value = this.data.value;\n        this.setData({ innerValue: this.value });\n    },\n    methods: {\n        formatValue: function (value) {\n            var maxlength = this.data.maxlength;\n            if (maxlength !== -1 && value.length > maxlength) {\n                return value.slice(0, maxlength);\n            }\n            return value;\n        },\n        onInput: function (event) {\n            var _a = (event.detail || {}).value, value = _a === void 0 ? '' : _a;\n            var formatValue = this.formatValue(value);\n            this.value = formatValue;\n            this.setShowClear();\n            return this.emitChange(__assign(__assign({}, event.detail), { value: formatValue }));\n        },\n        onFocus: function (event) {\n            this.focused = true;\n            this.setShowClear();\n            this.$emit('focus', event.detail);\n        },\n        onBlur: function (event) {\n            this.focused = false;\n            this.setShowClear();\n            this.$emit('blur', event.detail);\n        },\n        onClickIcon: function () {\n            this.$emit('click-icon');\n        },\n        onClickInput: function (event) {\n            this.$emit('click-input', event.detail);\n        },\n        onClear: function () {\n            var _this = this;\n            this.setData({ innerValue: '' });\n            this.value = '';\n            this.setShowClear();\n            (0, utils_1.nextTick)(function () {\n                _this.emitChange({ value: '' });\n                _this.$emit('clear', '');\n            });\n        },\n        onConfirm: function (event) {\n            var _a = (event.detail || {}).value, value = _a === void 0 ? '' : _a;\n            this.value = value;\n            this.setShowClear();\n            this.$emit('confirm', value);\n        },\n        setValue: function (value) {\n            this.value = value;\n            this.setShowClear();\n            if (value === '') {\n                this.setData({ innerValue: '' });\n            }\n            this.emitChange({ value: value });\n        },\n        onLineChange: function (event) {\n            this.$emit('linechange', event.detail);\n        },\n        onKeyboardHeightChange: function (event) {\n            this.$emit('keyboardheightchange', event.detail);\n        },\n        onBindNicknameReview: function (event) {\n            this.$emit('nicknamereview', event.detail);\n        },\n        emitChange: function (detail) {\n            var extraEventParams = this.data.extraEventParams;\n            this.setData({ value: detail.value });\n            var result;\n            var data = extraEventParams\n                ? __assign(__assign({}, detail), { callback: function (data) {\n                        result = data;\n                    } }) : detail.value;\n            this.$emit('input', data);\n            this.$emit('change', data);\n            return result;\n        },\n        setShowClear: function () {\n            var _a = this.data, clearable = _a.clearable, readonly = _a.readonly, clearTrigger = _a.clearTrigger;\n            var _b = this, focused = _b.focused, value = _b.value;\n            var showClear = false;\n            if (clearable && !readonly) {\n                var hasValue = !!value;\n                var trigger = clearTrigger === 'always' || (clearTrigger === 'focus' && focused);\n                showClear = hasValue && trigger;\n            }\n            this.setView({ showClear: showClear });\n        },\n        noop: function () { },\n    },\n});\n"],"mappings":"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","ignoreList":[]}