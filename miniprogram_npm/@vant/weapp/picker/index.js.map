{"version":3,"file":"node_modules\\@vant\\weapp\\lib\\picker\\index.js","names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","component_1","require","shared_1","VantComponent","classes","props","pickerProps","valueKey","type","String","toolbarPosition","defaultIndex","Number","columns","Array","observer","simple","values","isArray","children","setColumns","catch","beforeCreate","_this","get","selectAllComponents","methods","noop","data","stack","map","column","index","setColumnValues","Promise","all","emit","event","currentTarget","dataset","$emit","getColumnValue","getColumnIndex","getValues","getIndexes","onChange","picker","getColumn","getValue","setColumnValue","reject","Error","setValue","columnIndex","currentIndex","setColumnIndex","optionIndex","setIndex","getColumnValues","options","needReset","JSON","stringify","resolve","set","then","child","setValues","setIndexes","indexes"],"sources":["node_modules\\@vant\\weapp\\lib\\picker\\index.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar component_1 = require(\"../common/component\");\nvar shared_1 = require(\"./shared\");\n(0, component_1.VantComponent)({\n    classes: ['active-class', 'toolbar-class', 'column-class'],\n    props: __assign(__assign({}, shared_1.pickerProps), { valueKey: {\n            type: String,\n            value: 'text',\n        }, toolbarPosition: {\n            type: String,\n            value: 'top',\n        }, defaultIndex: {\n            type: Number,\n            value: 0,\n        }, columns: {\n            type: Array,\n            value: [],\n            observer: function (columns) {\n                if (columns === void 0) { columns = []; }\n                this.simple = columns.length && !columns[0].values;\n                if (Array.isArray(this.children) && this.children.length) {\n                    this.setColumns().catch(function () { });\n                }\n            },\n        } }),\n    beforeCreate: function () {\n        var _this = this;\n        Object.defineProperty(this, 'children', {\n            get: function () { return _this.selectAllComponents('.van-picker__column') || []; },\n        });\n    },\n    methods: {\n        noop: function () { },\n        setColumns: function () {\n            var _this = this;\n            var data = this.data;\n            var columns = this.simple ? [{ values: data.columns }] : data.columns;\n            var stack = columns.map(function (column, index) {\n                return _this.setColumnValues(index, column.values);\n            });\n            return Promise.all(stack);\n        },\n        emit: function (event) {\n            var type = event.currentTarget.dataset.type;\n            if (this.simple) {\n                this.$emit(type, {\n                    value: this.getColumnValue(0),\n                    index: this.getColumnIndex(0),\n                });\n            }\n            else {\n                this.$emit(type, {\n                    value: this.getValues(),\n                    index: this.getIndexes(),\n                });\n            }\n        },\n        onChange: function (event) {\n            if (this.simple) {\n                this.$emit('change', {\n                    picker: this,\n                    value: this.getColumnValue(0),\n                    index: this.getColumnIndex(0),\n                });\n            }\n            else {\n                this.$emit('change', {\n                    picker: this,\n                    value: this.getValues(),\n                    index: event.currentTarget.dataset.index,\n                });\n            }\n        },\n        // get column instance by index\n        getColumn: function (index) {\n            return this.children[index];\n        },\n        // get column value by index\n        getColumnValue: function (index) {\n            var column = this.getColumn(index);\n            return column && column.getValue();\n        },\n        // set column value by index\n        setColumnValue: function (index, value) {\n            var column = this.getColumn(index);\n            if (column == null) {\n                return Promise.reject(new Error('setColumnValue: 对应列不存在'));\n            }\n            return column.setValue(value);\n        },\n        // get column option index by column index\n        getColumnIndex: function (columnIndex) {\n            return (this.getColumn(columnIndex) || {}).data.currentIndex;\n        },\n        // set column option index by column index\n        setColumnIndex: function (columnIndex, optionIndex) {\n            var column = this.getColumn(columnIndex);\n            if (column == null) {\n                return Promise.reject(new Error('setColumnIndex: 对应列不存在'));\n            }\n            return column.setIndex(optionIndex);\n        },\n        // get options of column by index\n        getColumnValues: function (index) {\n            return (this.children[index] || {}).data.options;\n        },\n        // set options of column by index\n        setColumnValues: function (index, options, needReset) {\n            if (needReset === void 0) { needReset = true; }\n            var column = this.children[index];\n            if (column == null) {\n                return Promise.reject(new Error('setColumnValues: 对应列不存在'));\n            }\n            var isSame = JSON.stringify(column.data.options) === JSON.stringify(options);\n            if (isSame) {\n                return Promise.resolve();\n            }\n            return column.set({ options: options }).then(function () {\n                if (needReset) {\n                    column.setIndex(0);\n                }\n            });\n        },\n        // get values of all columns\n        getValues: function () {\n            return this.children.map(function (child) { return child.getValue(); });\n        },\n        // set values of all columns\n        setValues: function (values) {\n            var _this = this;\n            var stack = values.map(function (value, index) {\n                return _this.setColumnValue(index, value);\n            });\n            return Promise.all(stack);\n        },\n        // get indexes of all columns\n        getIndexes: function () {\n            return this.children.map(function (child) { return child.data.currentIndex; });\n        },\n        // set indexes of all columns\n        setIndexes: function (indexes) {\n            var _this = this;\n            var stack = indexes.map(function (optionIndex, columnIndex) {\n                return _this.setColumnIndex(columnIndex, optionIndex);\n            });\n            return Promise.all(stack);\n        },\n    },\n});\n"],"mappings":"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","ignoreList":[]}