{"version":3,"file":"node_modules\\@vant\\weapp\\lib\\swipe-cell\\index.js","names":["Object","defineProperty","exports","value","component_1","require","touch_1","utils_1","THRESHOLD","ARRAY","VantComponent","props","disabled","Boolean","leftWidth","type","Number","observer","this","offset","swipeMove","rightWidth","asyncClose","name","mixins","touch","data","catchMove","wrapperStyle","created","push","destroyed","_this","filter","item","methods","open","position","_a","$emit","close","range","transform","concat","transition","dragging","setData","swipeLeaveTransition","startDrag","event","startOffset","touchStart","noop","onDrag","touchMove","direction","forEach","deltaX","endDrag","onClick","currentTarget","dataset","key","instance"],"sources":["node_modules\\@vant\\weapp\\lib\\swipe-cell\\index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar component_1 = require(\"../common/component\");\nvar touch_1 = require(\"../mixins/touch\");\nvar utils_1 = require(\"../common/utils\");\nvar THRESHOLD = 0.3;\nvar ARRAY = [];\n(0, component_1.VantComponent)({\n    props: {\n        disabled: Boolean,\n        leftWidth: {\n            type: Number,\n            value: 0,\n            observer: function (leftWidth) {\n                if (leftWidth === void 0) { leftWidth = 0; }\n                if (this.offset > 0) {\n                    this.swipeMove(leftWidth);\n                }\n            },\n        },\n        rightWidth: {\n            type: Number,\n            value: 0,\n            observer: function (rightWidth) {\n                if (rightWidth === void 0) { rightWidth = 0; }\n                if (this.offset < 0) {\n                    this.swipeMove(-rightWidth);\n                }\n            },\n        },\n        asyncClose: Boolean,\n        name: {\n            type: null,\n            value: '',\n        },\n    },\n    mixins: [touch_1.touch],\n    data: {\n        catchMove: false,\n        wrapperStyle: '',\n    },\n    created: function () {\n        this.offset = 0;\n        ARRAY.push(this);\n    },\n    destroyed: function () {\n        var _this = this;\n        ARRAY = ARRAY.filter(function (item) { return item !== _this; });\n    },\n    methods: {\n        open: function (position) {\n            var _a = this.data, leftWidth = _a.leftWidth, rightWidth = _a.rightWidth;\n            var offset = position === 'left' ? leftWidth : -rightWidth;\n            this.swipeMove(offset);\n            this.$emit('open', {\n                position: position,\n                name: this.data.name,\n            });\n        },\n        close: function () {\n            this.swipeMove(0);\n        },\n        swipeMove: function (offset) {\n            if (offset === void 0) { offset = 0; }\n            this.offset = (0, utils_1.range)(offset, -this.data.rightWidth, this.data.leftWidth);\n            var transform = \"translate3d(\".concat(this.offset, \"px, 0, 0)\");\n            var transition = this.dragging\n                ? 'none'\n                : 'transform .6s cubic-bezier(0.18, 0.89, 0.32, 1)';\n            this.setData({\n                wrapperStyle: \"\\n        -webkit-transform: \".concat(transform, \";\\n        -webkit-transition: \").concat(transition, \";\\n        transform: \").concat(transform, \";\\n        transition: \").concat(transition, \";\\n      \"),\n            });\n        },\n        swipeLeaveTransition: function () {\n            var _a = this.data, leftWidth = _a.leftWidth, rightWidth = _a.rightWidth;\n            var offset = this.offset;\n            if (rightWidth > 0 && -offset > rightWidth * THRESHOLD) {\n                this.open('right');\n            }\n            else if (leftWidth > 0 && offset > leftWidth * THRESHOLD) {\n                this.open('left');\n            }\n            else {\n                this.swipeMove(0);\n            }\n            this.setData({ catchMove: false });\n        },\n        startDrag: function (event) {\n            if (this.data.disabled) {\n                return;\n            }\n            this.startOffset = this.offset;\n            this.touchStart(event);\n        },\n        noop: function () { },\n        onDrag: function (event) {\n            var _this = this;\n            if (this.data.disabled) {\n                return;\n            }\n            this.touchMove(event);\n            if (this.direction !== 'horizontal') {\n                return;\n            }\n            this.dragging = true;\n            ARRAY.filter(function (item) { return item !== _this && item.offset !== 0; }).forEach(function (item) { return item.close(); });\n            this.setData({ catchMove: true });\n            this.swipeMove(this.startOffset + this.deltaX);\n        },\n        endDrag: function () {\n            if (this.data.disabled) {\n                return;\n            }\n            this.dragging = false;\n            this.swipeLeaveTransition();\n        },\n        onClick: function (event) {\n            var _a = event.currentTarget.dataset.key, position = _a === void 0 ? 'outside' : _a;\n            this.$emit('click', position);\n            if (!this.offset) {\n                return;\n            }\n            if (this.data.asyncClose) {\n                this.$emit('close', {\n                    position: position,\n                    instance: this,\n                    name: this.data.name,\n                });\n            }\n            else {\n                this.swipeMove(0);\n            }\n        },\n    },\n});\n"],"mappings":"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","ignoreList":[]}