{"version":3,"file":"node_modules\\@vant\\weapp\\lib\\dialog\\dialog.js","names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","queue","defaultOptions","show","title","width","theme","message","zIndex","overlay","selector","className","asyncClose","beforeClose","transition","customStyle","messageAlign","overlayStyle","confirmButtonText","cancelButtonText","showConfirmButton","showCancelButton","closeOnClickOverlay","confirmButtonOpenType","currentOptions","getContext","pages","getCurrentPages","Dialog","options","Promise","resolve","reject","dialog","context","selectComponent","setData","callback","action","instance","wx","nextTick","push","console","warn","alert","confirm","close","forEach","stopLoading","setDefaultOptions","resetDefaultOptions","default"],"sources":["node_modules\\@vant\\weapp\\lib\\dialog\\dialog.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar queue = [];\nvar defaultOptions = {\n    show: false,\n    title: '',\n    width: null,\n    theme: 'default',\n    message: '',\n    zIndex: 100,\n    overlay: true,\n    selector: '#van-dialog',\n    className: '',\n    asyncClose: false,\n    beforeClose: null,\n    transition: 'scale',\n    customStyle: '',\n    messageAlign: '',\n    overlayStyle: '',\n    confirmButtonText: '确认',\n    cancelButtonText: '取消',\n    showConfirmButton: true,\n    showCancelButton: false,\n    closeOnClickOverlay: false,\n    confirmButtonOpenType: '',\n};\nvar currentOptions = __assign({}, defaultOptions);\nfunction getContext() {\n    var pages = getCurrentPages();\n    return pages[pages.length - 1];\n}\nvar Dialog = function (options) {\n    options = __assign(__assign({}, currentOptions), options);\n    return new Promise(function (resolve, reject) {\n        var context = (typeof options.context === 'function'\n            ? options.context()\n            : options.context) || getContext();\n        var dialog = context.selectComponent(options.selector);\n        delete options.context;\n        delete options.selector;\n        if (dialog) {\n            dialog.setData(__assign({ callback: function (action, instance) {\n                    action === 'confirm' ? resolve(instance) : reject(instance);\n                } }, options));\n            wx.nextTick(function () {\n                dialog.setData({ show: true });\n            });\n            queue.push(dialog);\n        }\n        else {\n            console.warn('未找到 van-dialog 节点，请确认 selector 及 context 是否正确');\n        }\n    });\n};\nDialog.alert = function (options) { return Dialog(options); };\nDialog.confirm = function (options) {\n    return Dialog(__assign({ showCancelButton: true }, options));\n};\nDialog.close = function () {\n    queue.forEach(function (dialog) {\n        dialog.close();\n    });\n    queue = [];\n};\nDialog.stopLoading = function () {\n    queue.forEach(function (dialog) {\n        dialog.stopLoading();\n    });\n};\nDialog.currentOptions = currentOptions;\nDialog.defaultOptions = defaultOptions;\nDialog.setDefaultOptions = function (options) {\n    currentOptions = __assign(__assign({}, currentOptions), options);\n    Dialog.currentOptions = currentOptions;\n};\nDialog.resetDefaultOptions = function () {\n    currentOptions = __assign({}, defaultOptions);\n    Dialog.currentOptions = currentOptions;\n};\nDialog.resetDefaultOptions();\nexports.default = Dialog;\n"],"mappings":"AAAA,aACA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACOJ,SAASc,MAAMb,KAAMO,UAChC,EACAN,OAAOa,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,MAAQ,GACRC,eAAiB,CACjBC,MAAM,EACNC,MAAO,GACPC,MAAO,KACPC,MAAO,UACPC,QAAS,GACTC,OAAQ,IACRC,SAAS,EACTC,SAAU,cACVC,UAAW,GACXC,YAAY,EACZC,YAAa,KACbC,WAAY,QACZC,YAAa,GACbC,aAAc,GACdC,aAAc,GACdC,kBAAmB,KACnBC,iBAAkB,KAClBC,mBAAmB,EACnBC,kBAAkB,EAClBC,qBAAqB,EACrBC,sBAAuB,IAEvBC,eAAiBzC,SAAS,CAAC,EAAGmB,gBAClC,SAASuB,aACL,IAAIC,EAAQC,kBACZ,OAAOD,EAAMA,EAAMlC,OAAS,EAChC,CACA,IAAIoC,OAAS,SAAUC,GAEnB,OADAA,EAAU9C,SAASA,SAAS,CAAC,EAAGyC,gBAAiBK,GAC1C,IAAIC,SAAQ,SAAUC,EAASC,GAClC,IAGIC,IAHsC,mBAApBJ,EAAQK,QACxBL,EAAQK,UACRL,EAAQK,UAAYT,cACLU,gBAAgBN,EAAQnB,iBACtCmB,EAAQK,eACRL,EAAQnB,SACXuB,GACAA,EAAOG,QAAQrD,SAAS,CAAEsD,SAAU,SAAUC,EAAQC,GACnC,YAAXD,EAAuBP,EAAQQ,GAAYP,EAAOO,EACtD,GAAKV,IACTW,GAAGC,UAAS,WACRR,EAAOG,QAAQ,CAAEjC,MAAM,GAC3B,IACAF,MAAMyC,KAAKT,IAGXU,QAAQC,KAAK,gDAErB,GACJ,EACAhB,OAAOiB,MAAQ,SAAUhB,GAAW,OAAOD,OAAOC,EAAU,EAC5DD,OAAOkB,QAAU,SAAUjB,GACvB,OAAOD,OAAO7C,SAAS,CAAEsC,kBAAkB,GAAQQ,GACvD,EACAD,OAAOmB,MAAQ,WACX9C,MAAM+C,SAAQ,SAAUf,GACpBA,EAAOc,OACX,IACA9C,MAAQ,EACZ,EACA2B,OAAOqB,YAAc,WACjBhD,MAAM+C,SAAQ,SAAUf,GACpBA,EAAOgB,aACX,GACJ,EACArB,OAAOJ,eAAiBA,eACxBI,OAAO1B,eAAiBA,eACxB0B,OAAOsB,kBAAoB,SAAUrB,GACjCL,eAAiBzC,SAASA,SAAS,CAAC,EAAGyC,gBAAiBK,GACxDD,OAAOJ,eAAiBA,cAC5B,EACAI,OAAOuB,oBAAsB,WACzB3B,eAAiBzC,SAAS,CAAC,EAAGmB,gBAC9B0B,OAAOJ,eAAiBA,cAC5B,EACAI,OAAOuB,sBACPpD,QAAQqD,QAAUxB","ignoreList":[]}