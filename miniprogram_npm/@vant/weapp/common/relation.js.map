{"version":3,"file":"node_modules\\@vant\\weapp\\lib\\common\\relation.js","names":["useParent","name","onEffect","_a","path","concat","relations","type","linked","call","this","linkChanged","unlinked","mixin","Behavior","created","_this","Object","defineProperty","get","getRelationNodes","_b","parent","children","indexOf","useChildren","target","exports","value"],"sources":["node_modules\\@vant\\weapp\\lib\\common\\relation.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useChildren = exports.useParent = void 0;\nfunction useParent(name, onEffect) {\n    var _a;\n    var path = \"../\".concat(name, \"/index\");\n    return {\n        relations: (_a = {},\n            _a[path] = {\n                type: 'ancestor',\n                linked: function () {\n                    onEffect && onEffect.call(this);\n                },\n                linkChanged: function () {\n                    onEffect && onEffect.call(this);\n                },\n                unlinked: function () {\n                    onEffect && onEffect.call(this);\n                },\n            },\n            _a),\n        mixin: Behavior({\n            created: function () {\n                var _this = this;\n                Object.defineProperty(this, 'parent', {\n                    get: function () { return _this.getRelationNodes(path)[0]; },\n                });\n                Object.defineProperty(this, 'index', {\n                    // @ts-ignore\n                    get: function () { var _a, _b; return (_b = (_a = _this.parent) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.indexOf(_this); },\n                });\n            },\n        }),\n    };\n}\nexports.useParent = useParent;\nfunction useChildren(name, onEffect) {\n    var _a;\n    var path = \"../\".concat(name, \"/index\");\n    return {\n        relations: (_a = {},\n            _a[path] = {\n                type: 'descendant',\n                linked: function (target) {\n                    onEffect && onEffect.call(this, target);\n                },\n                linkChanged: function (target) {\n                    onEffect && onEffect.call(this, target);\n                },\n                unlinked: function (target) {\n                    onEffect && onEffect.call(this, target);\n                },\n            },\n            _a),\n        mixin: Behavior({\n            created: function () {\n                var _this = this;\n                Object.defineProperty(this, 'children', {\n                    get: function () { return _this.getRelationNodes(path) || []; },\n                });\n            },\n        }),\n    };\n}\nexports.useChildren = useChildren;\n"],"mappings":"AAAA,aAGA,SAASA,UAAUC,EAAMC,GACrB,IAAIC,EACAC,EAAO,MAAMC,OAAOJ,EAAM,UAC9B,MAAO,CACHK,WAAYH,EAAK,CAAC,EACdA,EAAGC,GAAQ,CACPG,KAAM,WACNC,OAAQ,WACJN,GAAYA,EAASO,KAAKC,KAC9B,EACAC,YAAa,WACTT,GAAYA,EAASO,KAAKC,KAC9B,EACAE,SAAU,WACNV,GAAYA,EAASO,KAAKC,KAC9B,GAEJP,GACJU,MAAOC,SAAS,CACZC,QAAS,WACL,IAAIC,EAAQN,KACZO,OAAOC,eAAeR,KAAM,SAAU,CAClCS,IAAK,WAAc,OAAOH,EAAMI,iBAAiBhB,GAAM,EAAI,IAE/Da,OAAOC,eAAeR,KAAM,QAAS,CAEjCS,IAAK,WAAc,IAAIhB,EAAIkB,EAAI,OAAuF,QAA/EA,EAA6B,QAAvBlB,EAAKa,EAAMM,cAA2B,IAAPnB,OAAgB,EAASA,EAAGoB,gBAA6B,IAAPF,OAAgB,EAASA,EAAGG,QAAQR,EAAQ,GAElL,IAGZ,CAEA,SAASS,YAAYxB,EAAMC,GACvB,IAAIC,EACAC,EAAO,MAAMC,OAAOJ,EAAM,UAC9B,MAAO,CACHK,WAAYH,EAAK,CAAC,EACdA,EAAGC,GAAQ,CACPG,KAAM,aACNC,OAAQ,SAAUkB,GACdxB,GAAYA,EAASO,KAAKC,KAAMgB,EACpC,EACAf,YAAa,SAAUe,GACnBxB,GAAYA,EAASO,KAAKC,KAAMgB,EACpC,EACAd,SAAU,SAAUc,GAChBxB,GAAYA,EAASO,KAAKC,KAAMgB,EACpC,GAEJvB,GACJU,MAAOC,SAAS,CACZC,QAAS,WACL,IAAIC,EAAQN,KACZO,OAAOC,eAAeR,KAAM,WAAY,CACpCS,IAAK,WAAc,OAAOH,EAAMI,iBAAiBhB,IAAS,EAAI,GAEtE,IAGZ,CA9DAa,OAAOC,eAAeS,QAAS,aAAc,CAAEC,OAAO,IACtDD,QAAQF,YAAcE,QAAQ3B,eAAY,EAiC1C2B,QAAQ3B,UAAYA,UA6BpB2B,QAAQF,YAAcA","ignoreList":[]}