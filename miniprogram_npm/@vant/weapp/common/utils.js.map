{"version":3,"file":"node_modules\\@vant\\weapp\\lib\\common\\utils.js","names":["Object","defineProperty","exports","value","isWxWork","isPC","getCurrentPage","clamp","addNumber","toPromise","groupSetData","getAllRect","getRect","pickExclude","requestAnimationFrame","addUnit","nextTick","range","getSystemInfoSync","isDef","validator_1","require","version_1","validator_2","enumerable","get","version_2","num","min","max","Math","cb","canIUseNextTick","wx","setTimeout","String","isNumber","concat","obj","keys","isPlainObject","reduce","prev","key","includes","context","selector","Promise","resolve","createSelectorQuery","in","select","boundingClientRect","exec","rect","selectAll","canIUseGroupSetData","promiseLike","isPromise","num1","num2","cardinal","pow","round","pages","getCurrentPages","length","platform","environment"],"sources":["node_modules\\@vant\\weapp\\lib\\common\\utils.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isWxWork = exports.isPC = exports.getCurrentPage = exports.clamp = exports.addNumber = exports.toPromise = exports.groupSetData = exports.getAllRect = exports.getRect = exports.pickExclude = exports.requestAnimationFrame = exports.addUnit = exports.nextTick = exports.range = exports.getSystemInfoSync = exports.isDef = void 0;\nvar validator_1 = require(\"./validator\");\nvar version_1 = require(\"./version\");\nvar validator_2 = require(\"./validator\");\nObject.defineProperty(exports, \"isDef\", { enumerable: true, get: function () { return validator_2.isDef; } });\nvar version_2 = require(\"./version\");\nObject.defineProperty(exports, \"getSystemInfoSync\", { enumerable: true, get: function () { return version_2.getSystemInfoSync; } });\nfunction range(num, min, max) {\n    return Math.min(Math.max(num, min), max);\n}\nexports.range = range;\nfunction nextTick(cb) {\n    if ((0, version_1.canIUseNextTick)()) {\n        wx.nextTick(cb);\n    }\n    else {\n        setTimeout(function () {\n            cb();\n        }, 1000 / 30);\n    }\n}\nexports.nextTick = nextTick;\nfunction addUnit(value) {\n    if (!(0, validator_1.isDef)(value)) {\n        return undefined;\n    }\n    value = String(value);\n    return (0, validator_1.isNumber)(value) ? \"\".concat(value, \"px\") : value;\n}\nexports.addUnit = addUnit;\nfunction requestAnimationFrame(cb) {\n    return setTimeout(function () {\n        cb();\n    }, 1000 / 30);\n}\nexports.requestAnimationFrame = requestAnimationFrame;\nfunction pickExclude(obj, keys) {\n    if (!(0, validator_1.isPlainObject)(obj)) {\n        return {};\n    }\n    return Object.keys(obj).reduce(function (prev, key) {\n        if (!keys.includes(key)) {\n            prev[key] = obj[key];\n        }\n        return prev;\n    }, {});\n}\nexports.pickExclude = pickExclude;\nfunction getRect(context, selector) {\n    return new Promise(function (resolve) {\n        wx.createSelectorQuery()\n            .in(context)\n            .select(selector)\n            .boundingClientRect()\n            .exec(function (rect) {\n            if (rect === void 0) { rect = []; }\n            return resolve(rect[0]);\n        });\n    });\n}\nexports.getRect = getRect;\nfunction getAllRect(context, selector) {\n    return new Promise(function (resolve) {\n        wx.createSelectorQuery()\n            .in(context)\n            .selectAll(selector)\n            .boundingClientRect()\n            .exec(function (rect) {\n            if (rect === void 0) { rect = []; }\n            return resolve(rect[0]);\n        });\n    });\n}\nexports.getAllRect = getAllRect;\nfunction groupSetData(context, cb) {\n    if ((0, version_1.canIUseGroupSetData)()) {\n        context.groupSetData(cb);\n    }\n    else {\n        cb();\n    }\n}\nexports.groupSetData = groupSetData;\nfunction toPromise(promiseLike) {\n    if ((0, validator_1.isPromise)(promiseLike)) {\n        return promiseLike;\n    }\n    return Promise.resolve(promiseLike);\n}\nexports.toPromise = toPromise;\n// 浮点数精度处理\nfunction addNumber(num1, num2) {\n    var cardinal = Math.pow(10, 10);\n    return Math.round((num1 + num2) * cardinal) / cardinal;\n}\nexports.addNumber = addNumber;\n// 限制value在[min, max]之间\nvar clamp = function (num, min, max) { return Math.min(Math.max(num, min), max); };\nexports.clamp = clamp;\nfunction getCurrentPage() {\n    var pages = getCurrentPages();\n    return pages[pages.length - 1];\n}\nexports.getCurrentPage = getCurrentPage;\nexports.isPC = ['mac', 'windows'].includes((0, version_1.getSystemInfoSync)().platform);\n// 是否企业微信\nexports.isWxWork = (0, version_1.getSystemInfoSync)().environment === 'wxwork';\n"],"mappings":"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","ignoreList":[]}