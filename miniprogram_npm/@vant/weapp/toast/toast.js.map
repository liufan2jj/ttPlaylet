{"version":3,"file":"node_modules\\@vant\\weapp\\lib\\toast\\toast.js","names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","validator_1","require","defaultOptions","type","mask","message","show","zIndex","duration","position","forbidClick","loadingType","selector","queue","currentOptions","parseOptions","isObj","getContext","pages","getCurrentPages","Toast","toastOptions","options","toast","context","selectComponent","clear","setData","onClose","push","clearTimeout","timer","setTimeout","filter","item","console","warn","createMethod","loading","success","fail","forEach","setDefaultOptions","resetDefaultOptions","default"],"sources":["node_modules\\@vant\\weapp\\lib\\toast\\toast.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar validator_1 = require(\"../common/validator\");\nvar defaultOptions = {\n    type: 'text',\n    mask: false,\n    message: '',\n    show: true,\n    zIndex: 1000,\n    duration: 2000,\n    position: 'middle',\n    forbidClick: false,\n    loadingType: 'circular',\n    selector: '#van-toast',\n};\nvar queue = [];\nvar currentOptions = __assign({}, defaultOptions);\nfunction parseOptions(message) {\n    return (0, validator_1.isObj)(message) ? message : { message: message };\n}\nfunction getContext() {\n    var pages = getCurrentPages();\n    return pages[pages.length - 1];\n}\nfunction Toast(toastOptions) {\n    var options = __assign(__assign({}, currentOptions), parseOptions(toastOptions));\n    var context = (typeof options.context === 'function'\n        ? options.context()\n        : options.context) || getContext();\n    var toast = context.selectComponent(options.selector);\n    if (!toast) {\n        console.warn('未找到 van-toast 节点，请确认 selector 及 context 是否正确');\n        return;\n    }\n    delete options.context;\n    delete options.selector;\n    toast.clear = function () {\n        toast.setData({ show: false });\n        if (options.onClose) {\n            options.onClose();\n        }\n    };\n    queue.push(toast);\n    toast.setData(options);\n    clearTimeout(toast.timer);\n    if (options.duration != null && options.duration > 0) {\n        toast.timer = setTimeout(function () {\n            toast.clear();\n            queue = queue.filter(function (item) { return item !== toast; });\n        }, options.duration);\n    }\n    return toast;\n}\nvar createMethod = function (type) { return function (options) {\n    return Toast(__assign({ type: type }, parseOptions(options)));\n}; };\nToast.loading = createMethod('loading');\nToast.success = createMethod('success');\nToast.fail = createMethod('fail');\nToast.clear = function () {\n    queue.forEach(function (toast) {\n        toast.clear();\n    });\n    queue = [];\n};\nToast.setDefaultOptions = function (options) {\n    Object.assign(currentOptions, options);\n};\nToast.resetDefaultOptions = function () {\n    currentOptions = __assign({}, defaultOptions);\n};\nexports.default = Toast;\n"],"mappings":"AAAA,aACA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACOJ,SAASc,MAAMb,KAAMO,UAChC,EACAN,OAAOa,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,YAAcC,QAAQ,uBACtBC,eAAiB,CACjBC,KAAM,OACNC,MAAM,EACNC,QAAS,GACTC,MAAM,EACNC,OAAQ,IACRC,SAAU,IACVC,SAAU,SACVC,aAAa,EACbC,YAAa,WACbC,SAAU,cAEVC,MAAQ,GACRC,eAAiBhC,SAAS,CAAC,EAAGoB,gBAClC,SAASa,aAAaV,GAClB,OAAO,EAAIL,YAAYgB,OAAOX,GAAWA,EAAU,CAAEA,QAASA,EAClE,CACA,SAASY,aACL,IAAIC,EAAQC,kBACZ,OAAOD,EAAMA,EAAM3B,OAAS,EAChC,CACA,SAAS6B,MAAMC,GACX,IAAIC,EAAUxC,SAASA,SAAS,CAAC,EAAGgC,gBAAiBC,aAAaM,IAI9DE,IAHsC,mBAApBD,EAAQE,QACxBF,EAAQE,UACRF,EAAQE,UAAYP,cACNQ,gBAAgBH,EAAQV,UAC5C,GAAKW,EAqBL,cAjBOD,EAAQE,eACRF,EAAQV,SACfW,EAAMG,MAAQ,WACVH,EAAMI,QAAQ,CAAErB,MAAM,IAClBgB,EAAQM,SACRN,EAAQM,SAEhB,EACAf,MAAMgB,KAAKN,GACXA,EAAMI,QAAQL,GACdQ,aAAaP,EAAMQ,OACK,MAApBT,EAAQd,UAAoBc,EAAQd,SAAW,IAC/Ce,EAAMQ,MAAQC,YAAW,WACrBT,EAAMG,QACNb,MAAQA,MAAMoB,QAAO,SAAUC,GAAQ,OAAOA,IAASX,CAAO,GAClE,GAAGD,EAAQd,WAERe,EApBHY,QAAQC,KAAK,+CAqBrB,CACA,IAAIC,aAAe,SAAUlC,GAAQ,OAAO,SAAUmB,GAClD,OAAOF,MAAMtC,SAAS,CAAEqB,KAAMA,GAAQY,aAAaO,IACvD,CAAG,EACHF,MAAMkB,QAAUD,aAAa,WAC7BjB,MAAMmB,QAAUF,aAAa,WAC7BjB,MAAMoB,KAAOH,aAAa,QAC1BjB,MAAMM,MAAQ,WACVb,MAAM4B,SAAQ,SAAUlB,GACpBA,EAAMG,OACV,IACAb,MAAQ,EACZ,EACAO,MAAMsB,kBAAoB,SAAUpB,GAChCtC,OAAOC,OAAO6B,eAAgBQ,EAClC,EACAF,MAAMuB,oBAAsB,WACxB7B,eAAiBhC,SAAS,CAAC,EAAGoB,eAClC,EACAJ,QAAQ8C,QAAUxB","ignoreList":[]}