{"version":3,"file":"node_modules\\@vant\\weapp\\lib\\dropdown-item\\index.js","names":["Object","defineProperty","exports","value","relation_1","require","component_1","VantComponent","classes","field","relation","useParent","this","updateDataFromParent","props","type","observer","title","String","disabled","Boolean","titleClass","options","Array","popupStyle","useBeforeToggle","rootPortal","data","transition","showPopup","showWrapper","displayTitle","safeAreaTabBar","methods","rerender","_this","wx","nextTick","_a","parent","updateItemListData","overlay","duration","activeColor","closeOnClickOverlay","direction","setData","onOpen","$emit","onOpened","onClose","onClosed","onOptionTap","event","currentTarget","dataset","option","shouldEmitChange","toggle","show","onBeforeToggle","then","status","immediate","getChildWrapperStyle","wrapperStyle","Promise","resolve","callback"],"sources":["node_modules\\@vant\\weapp\\lib\\dropdown-item\\index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar relation_1 = require(\"../common/relation\");\nvar component_1 = require(\"../common/component\");\n(0, component_1.VantComponent)({\n    classes: ['item-title-class'],\n    field: true,\n    relation: (0, relation_1.useParent)('dropdown-menu', function () {\n        this.updateDataFromParent();\n    }),\n    props: {\n        value: {\n            type: null,\n            observer: 'rerender',\n        },\n        title: {\n            type: String,\n            observer: 'rerender',\n        },\n        disabled: Boolean,\n        titleClass: {\n            type: String,\n            observer: 'rerender',\n        },\n        options: {\n            type: Array,\n            value: [],\n            observer: 'rerender',\n        },\n        popupStyle: String,\n        useBeforeToggle: {\n            type: Boolean,\n            value: false,\n        },\n        rootPortal: {\n            type: Boolean,\n            value: false,\n        },\n    },\n    data: {\n        transition: true,\n        showPopup: false,\n        showWrapper: false,\n        displayTitle: '',\n        safeAreaTabBar: false,\n    },\n    methods: {\n        rerender: function () {\n            var _this = this;\n            wx.nextTick(function () {\n                var _a;\n                (_a = _this.parent) === null || _a === void 0 ? void 0 : _a.updateItemListData();\n            });\n        },\n        updateDataFromParent: function () {\n            if (this.parent) {\n                var _a = this.parent.data, overlay = _a.overlay, duration = _a.duration, activeColor = _a.activeColor, closeOnClickOverlay = _a.closeOnClickOverlay, direction = _a.direction, safeAreaTabBar = _a.safeAreaTabBar;\n                this.setData({\n                    overlay: overlay,\n                    duration: duration,\n                    activeColor: activeColor,\n                    closeOnClickOverlay: closeOnClickOverlay,\n                    direction: direction,\n                    safeAreaTabBar: safeAreaTabBar,\n                });\n            }\n        },\n        onOpen: function () {\n            this.$emit('open');\n        },\n        onOpened: function () {\n            this.$emit('opened');\n        },\n        onClose: function () {\n            this.$emit('close');\n        },\n        onClosed: function () {\n            this.$emit('closed');\n            this.setData({ showWrapper: false });\n        },\n        onOptionTap: function (event) {\n            var option = event.currentTarget.dataset.option;\n            var value = option.value;\n            var shouldEmitChange = this.data.value !== value;\n            this.setData({ showPopup: false, value: value });\n            this.$emit('close');\n            this.rerender();\n            if (shouldEmitChange) {\n                this.$emit('change', value);\n            }\n        },\n        toggle: function (show, options) {\n            var _this = this;\n            if (options === void 0) { options = {}; }\n            var showPopup = this.data.showPopup;\n            if (typeof show !== 'boolean') {\n                show = !showPopup;\n            }\n            if (show === showPopup) {\n                return;\n            }\n            this.onBeforeToggle(show).then(function (status) {\n                var _a;\n                if (!status) {\n                    return;\n                }\n                _this.setData({\n                    transition: !options.immediate,\n                    showPopup: show,\n                });\n                if (show) {\n                    (_a = _this.parent) === null || _a === void 0 ? void 0 : _a.getChildWrapperStyle().then(function (wrapperStyle) {\n                        _this.setData({ wrapperStyle: wrapperStyle, showWrapper: true });\n                        _this.rerender();\n                    });\n                }\n                else {\n                    _this.rerender();\n                }\n            });\n        },\n        onBeforeToggle: function (status) {\n            var _this = this;\n            var useBeforeToggle = this.data.useBeforeToggle;\n            if (!useBeforeToggle) {\n                return Promise.resolve(true);\n            }\n            return new Promise(function (resolve) {\n                _this.$emit('before-toggle', {\n                    status: status,\n                    callback: function (value) { return resolve(value); },\n                });\n            });\n        },\n    },\n});\n"],"mappings":"AAAA,aACAA,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,WAAaC,QAAQ,sBACrBC,YAAcD,QAAQ,wBAC1B,EAAIC,YAAYC,eAAe,CAC3BC,QAAS,CAAC,oBACVC,OAAO,EACPC,UAAU,EAAIN,WAAWO,WAAW,iBAAiB,WACjDC,KAAKC,sBACT,IACAC,MAAO,CACHX,MAAO,CACHY,KAAM,KACNC,SAAU,YAEdC,MAAO,CACHF,KAAMG,OACNF,SAAU,YAEdG,SAAUC,QACVC,WAAY,CACRN,KAAMG,OACNF,SAAU,YAEdM,QAAS,CACLP,KAAMQ,MACNpB,MAAO,GACPa,SAAU,YAEdQ,WAAYN,OACZO,gBAAiB,CACbV,KAAMK,QACNjB,OAAO,GAEXuB,WAAY,CACRX,KAAMK,QACNjB,OAAO,IAGfwB,KAAM,CACFC,YAAY,EACZC,WAAW,EACXC,aAAa,EACbC,aAAc,GACdC,gBAAgB,GAEpBC,QAAS,CACLC,SAAU,WACN,IAAIC,EAAQvB,KACZwB,GAAGC,UAAS,WACR,IAAIC,EACoB,QAAvBA,EAAKH,EAAMI,cAA2B,IAAPD,GAAyBA,EAAGE,oBAChE,GACJ,EACA3B,qBAAsB,WAClB,GAAID,KAAK2B,OAAQ,CACb,IAAID,EAAK1B,KAAK2B,OAAOZ,KAAMc,EAAUH,EAAGG,QAASC,EAAWJ,EAAGI,SAAUC,EAAcL,EAAGK,YAAaC,EAAsBN,EAAGM,oBAAqBC,EAAYP,EAAGO,UAAWb,EAAiBM,EAAGN,eACnMpB,KAAKkC,QAAQ,CACTL,QAASA,EACTC,SAAUA,EACVC,YAAaA,EACbC,oBAAqBA,EACrBC,UAAWA,EACXb,eAAgBA,GAExB,CACJ,EACAe,OAAQ,WACJnC,KAAKoC,MAAM,OACf,EACAC,SAAU,WACNrC,KAAKoC,MAAM,SACf,EACAE,QAAS,WACLtC,KAAKoC,MAAM,QACf,EACAG,SAAU,WACNvC,KAAKoC,MAAM,UACXpC,KAAKkC,QAAQ,CAAEhB,aAAa,GAChC,EACAsB,YAAa,SAAUC,GACnB,IACIlD,EADSkD,EAAMC,cAAcC,QAAQC,OACtBrD,MACfsD,EAAmB7C,KAAKe,KAAKxB,QAAUA,EAC3CS,KAAKkC,QAAQ,CAAEjB,WAAW,EAAO1B,MAAOA,IACxCS,KAAKoC,MAAM,SACXpC,KAAKsB,WACDuB,GACA7C,KAAKoC,MAAM,SAAU7C,EAE7B,EACAuD,OAAQ,SAAUC,EAAMrC,GACpB,IAAIa,EAAQvB,UACI,IAAZU,IAAsBA,EAAU,CAAC,GACrC,IAAIO,EAAYjB,KAAKe,KAAKE,UACN,kBAAT8B,IACPA,GAAQ9B,GAER8B,IAAS9B,GAGbjB,KAAKgD,eAAeD,GAAME,MAAK,SAAUC,GACrC,IAAIxB,EACCwB,IAGL3B,EAAMW,QAAQ,CACVlB,YAAaN,EAAQyC,UACrBlC,UAAW8B,IAEXA,EACwB,QAAvBrB,EAAKH,EAAMI,cAA2B,IAAPD,GAAyBA,EAAG0B,uBAAuBH,MAAK,SAAUI,GAC9F9B,EAAMW,QAAQ,CAAEmB,aAAcA,EAAcnC,aAAa,IACzDK,EAAMD,UACV,IAGAC,EAAMD,WAEd,GACJ,EACA0B,eAAgB,SAAUE,GACtB,IAAI3B,EAAQvB,KAEZ,OADsBA,KAAKe,KAAKF,gBAIzB,IAAIyC,SAAQ,SAAUC,GACzBhC,EAAMa,MAAM,gBAAiB,CACzBc,OAAQA,EACRM,SAAU,SAAUjE,GAAS,OAAOgE,EAAQhE,EAAQ,GAE5D,IAPW+D,QAAQC,SAAQ,EAQ/B","ignoreList":[]}