{"version":3,"file":"node_modules\\@vant\\weapp\\lib\\calendar\\components\\month\\index.js","names":["Object","defineProperty","exports","value","component_1","require","utils_1","VantComponent","props","date","type","observer","String","color","minDate","maxDate","showMark","Boolean","rowHeight","formatter","currentDate","firstDayOfWeek","Number","allowSameDay","showSubtitle","showMonthTitle","data","visible","days","methods","onClick","event","index","currentTarget","dataset","item","this","$emit","setDays","startDate","Date","year","getFullYear","month","getMonth","totalDay","getMonthEndDay","day","getDayType","config","text","bottomInfo","getBottomInfo","push","setData","getMultipleDayType","Array","isArray","isSelected","some","compareDay","prevDay","getPrevDay","nextDay","getNextDay","prevSelected","nextSelected","getRangeDayType","_a","startDay","endDay","compareToStart","compareToEnd"],"sources":["node_modules\\@vant\\weapp\\lib\\calendar\\components\\month\\index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar component_1 = require(\"../../../common/component\");\nvar utils_1 = require(\"../../utils\");\n(0, component_1.VantComponent)({\n    props: {\n        date: {\n            type: null,\n            observer: 'setDays',\n        },\n        type: {\n            type: String,\n            observer: 'setDays',\n        },\n        color: String,\n        minDate: {\n            type: null,\n            observer: 'setDays',\n        },\n        maxDate: {\n            type: null,\n            observer: 'setDays',\n        },\n        showMark: Boolean,\n        rowHeight: null,\n        formatter: {\n            type: null,\n            observer: 'setDays',\n        },\n        currentDate: {\n            type: null,\n            observer: 'setDays',\n        },\n        firstDayOfWeek: {\n            type: Number,\n            observer: 'setDays',\n        },\n        allowSameDay: Boolean,\n        showSubtitle: Boolean,\n        showMonthTitle: Boolean,\n    },\n    data: {\n        visible: true,\n        days: [],\n    },\n    methods: {\n        onClick: function (event) {\n            var index = event.currentTarget.dataset.index;\n            var item = this.data.days[index];\n            if (item.type !== 'disabled') {\n                this.$emit('click', item);\n            }\n        },\n        setDays: function () {\n            var days = [];\n            var startDate = new Date(this.data.date);\n            var year = startDate.getFullYear();\n            var month = startDate.getMonth();\n            var totalDay = (0, utils_1.getMonthEndDay)(startDate.getFullYear(), startDate.getMonth() + 1);\n            for (var day = 1; day <= totalDay; day++) {\n                var date = new Date(year, month, day);\n                var type = this.getDayType(date);\n                var config = {\n                    date: date,\n                    type: type,\n                    text: day,\n                    bottomInfo: this.getBottomInfo(type),\n                };\n                if (this.data.formatter) {\n                    config = this.data.formatter(config);\n                }\n                days.push(config);\n            }\n            this.setData({ days: days });\n        },\n        getMultipleDayType: function (day) {\n            var currentDate = this.data.currentDate;\n            if (!Array.isArray(currentDate)) {\n                return '';\n            }\n            var isSelected = function (date) {\n                return currentDate.some(function (item) { return (0, utils_1.compareDay)(item, date) === 0; });\n            };\n            if (isSelected(day)) {\n                var prevDay = (0, utils_1.getPrevDay)(day);\n                var nextDay = (0, utils_1.getNextDay)(day);\n                var prevSelected = isSelected(prevDay);\n                var nextSelected = isSelected(nextDay);\n                if (prevSelected && nextSelected) {\n                    return 'multiple-middle';\n                }\n                if (prevSelected) {\n                    return 'end';\n                }\n                return nextSelected ? 'start' : 'multiple-selected';\n            }\n            return '';\n        },\n        getRangeDayType: function (day) {\n            var _a = this.data, currentDate = _a.currentDate, allowSameDay = _a.allowSameDay;\n            if (!Array.isArray(currentDate)) {\n                return '';\n            }\n            var startDay = currentDate[0], endDay = currentDate[1];\n            if (!startDay) {\n                return '';\n            }\n            var compareToStart = (0, utils_1.compareDay)(day, startDay);\n            if (!endDay) {\n                return compareToStart === 0 ? 'start' : '';\n            }\n            var compareToEnd = (0, utils_1.compareDay)(day, endDay);\n            if (compareToStart === 0 && compareToEnd === 0 && allowSameDay) {\n                return 'start-end';\n            }\n            if (compareToStart === 0) {\n                return 'start';\n            }\n            if (compareToEnd === 0) {\n                return 'end';\n            }\n            if (compareToStart > 0 && compareToEnd < 0) {\n                return 'middle';\n            }\n            return '';\n        },\n        getDayType: function (day) {\n            var _a = this.data, type = _a.type, minDate = _a.minDate, maxDate = _a.maxDate, currentDate = _a.currentDate;\n            if ((0, utils_1.compareDay)(day, minDate) < 0 || (0, utils_1.compareDay)(day, maxDate) > 0) {\n                return 'disabled';\n            }\n            if (type === 'single') {\n                return (0, utils_1.compareDay)(day, currentDate) === 0 ? 'selected' : '';\n            }\n            if (type === 'multiple') {\n                return this.getMultipleDayType(day);\n            }\n            /* istanbul ignore else */\n            if (type === 'range') {\n                return this.getRangeDayType(day);\n            }\n            return '';\n        },\n        getBottomInfo: function (type) {\n            if (this.data.type === 'range') {\n                if (type === 'start') {\n                    return '开始';\n                }\n                if (type === 'end') {\n                    return '结束';\n                }\n                if (type === 'start-end') {\n                    return '开始/结束';\n                }\n            }\n        },\n    },\n});\n"],"mappings":"AAAA,aACAA,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,YAAcC,QAAQ,6BACtBC,QAAUD,QAAQ,gBACtB,EAAID,YAAYG,eAAe,CAC3BC,MAAO,CACHC,KAAM,CACFC,KAAM,KACNC,SAAU,WAEdD,KAAM,CACFA,KAAME,OACND,SAAU,WAEdE,MAAOD,OACPE,QAAS,CACLJ,KAAM,KACNC,SAAU,WAEdI,QAAS,CACLL,KAAM,KACNC,SAAU,WAEdK,SAAUC,QACVC,UAAW,KACXC,UAAW,CACPT,KAAM,KACNC,SAAU,WAEdS,YAAa,CACTV,KAAM,KACNC,SAAU,WAEdU,eAAgB,CACZX,KAAMY,OACNX,SAAU,WAEdY,aAAcN,QACdO,aAAcP,QACdQ,eAAgBR,SAEpBS,KAAM,CACFC,SAAS,EACTC,KAAM,IAEVC,QAAS,CACLC,QAAS,SAAUC,GACf,IAAIC,EAAQD,EAAME,cAAcC,QAAQF,MACpCG,EAAOC,KAAKV,KAAKE,KAAKI,GACR,aAAdG,EAAKzB,MACL0B,KAAKC,MAAM,QAASF,EAE5B,EACAG,QAAS,WAML,IALA,IAAIV,EAAO,GACPW,EAAY,IAAIC,KAAKJ,KAAKV,KAAKjB,MAC/BgC,EAAOF,EAAUG,cACjBC,EAAQJ,EAAUK,WAClBC,GAAW,EAAIvC,QAAQwC,gBAAgBP,EAAUG,cAAeH,EAAUK,WAAa,GAClFG,EAAM,EAAGA,GAAOF,EAAUE,IAAO,CACtC,IAAItC,EAAO,IAAI+B,KAAKC,EAAME,EAAOI,GAC7BrC,EAAO0B,KAAKY,WAAWvC,GACvBwC,EAAS,CACTxC,KAAMA,EACNC,KAAMA,EACNwC,KAAMH,EACNI,WAAYf,KAAKgB,cAAc1C,IAE/B0B,KAAKV,KAAKP,YACV8B,EAASb,KAAKV,KAAKP,UAAU8B,IAEjCrB,EAAKyB,KAAKJ,EACd,CACAb,KAAKkB,QAAQ,CAAE1B,KAAMA,GACzB,EACA2B,mBAAoB,SAAUR,GAC1B,IAAI3B,EAAcgB,KAAKV,KAAKN,YAC5B,IAAKoC,MAAMC,QAAQrC,GACf,MAAO,GAEX,IAAIsC,EAAa,SAAUjD,GACvB,OAAOW,EAAYuC,MAAK,SAAUxB,GAAQ,OAA+C,KAAxC,EAAI7B,QAAQsD,YAAYzB,EAAM1B,EAAa,GAChG,EACA,GAAIiD,EAAWX,GAAM,CACjB,IAAIc,GAAU,EAAIvD,QAAQwD,YAAYf,GAClCgB,GAAU,EAAIzD,QAAQ0D,YAAYjB,GAClCkB,EAAeP,EAAWG,GAC1BK,EAAeR,EAAWK,GAC9B,OAAIE,GAAgBC,EACT,kBAEPD,EACO,MAEJC,EAAe,QAAU,mBACpC,CACA,MAAO,EACX,EACAC,gBAAiB,SAAUpB,GACvB,IAAIqB,EAAKhC,KAAKV,KAAMN,EAAcgD,EAAGhD,YAAaG,EAAe6C,EAAG7C,aACpE,IAAKiC,MAAMC,QAAQrC,GACf,MAAO,GAEX,IAAIiD,EAAWjD,EAAY,GAAIkD,EAASlD,EAAY,GACpD,IAAKiD,EACD,MAAO,GAEX,IAAIE,GAAiB,EAAIjE,QAAQsD,YAAYb,EAAKsB,GAClD,IAAKC,EACD,OAA0B,IAAnBC,EAAuB,QAAU,GAE5C,IAAIC,GAAe,EAAIlE,QAAQsD,YAAYb,EAAKuB,GAChD,OAAuB,IAAnBC,GAAyC,IAAjBC,GAAsBjD,EACvC,YAEY,IAAnBgD,EACO,QAEU,IAAjBC,EACO,MAEPD,EAAiB,GAAKC,EAAe,EAC9B,SAEJ,EACX,EACAxB,WAAY,SAAUD,GAClB,IAAIqB,EAAKhC,KAAKV,KAAMhB,EAAO0D,EAAG1D,KAAMI,EAAUsD,EAAGtD,QAASC,EAAUqD,EAAGrD,QAASK,EAAcgD,EAAGhD,YACjG,OAAI,EAAId,QAAQsD,YAAYb,EAAKjC,GAAW,IAAK,EAAIR,QAAQsD,YAAYb,EAAKhC,GAAW,EAC9E,WAEE,WAATL,EACqD,KAA9C,EAAIJ,QAAQsD,YAAYb,EAAK3B,GAAqB,WAAa,GAE7D,aAATV,EACO0B,KAAKmB,mBAAmBR,GAGtB,UAATrC,EACO0B,KAAK+B,gBAAgBpB,GAEzB,EACX,EACAK,cAAe,SAAU1C,GACrB,GAAuB,UAAnB0B,KAAKV,KAAKhB,KAAkB,CAC5B,GAAa,UAATA,EACA,MAAO,KAEX,GAAa,QAATA,EACA,MAAO,KAEX,GAAa,cAATA,EACA,MAAO,OAEf,CACJ","ignoreList":[]}