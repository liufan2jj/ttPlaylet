"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var component_1=require("../common/component"),relation_1=require("../common/relation"),utils_1=require("../common/utils"),ARRAY=[];(0,component_1.VantComponent)({field:!0,classes:["title-class"],relation:(0,relation_1.useChildren)("dropdown-item",(function(){this.updateItemListData()})),props:{activeColor:{type:String,observer:"updateChildrenData"},overlay:{type:Boolean,value:!0,observer:"updateChildrenData"},zIndex:{type:Number,value:10},duration:{type:Number,value:200,observer:"updateChildrenData"},direction:{type:String,value:"down",observer:"updateChildrenData"},safeAreaTabBar:{type:Boolean,value:!1},closeOnClickOverlay:{type:Boolean,value:!0,observer:"updateChildrenData"},closeOnClickOutside:{type:Boolean,value:!0}},data:{itemListData:[]},beforeCreate:function(){var t=(0,utils_1.getSystemInfoSync)().windowHeight;this.windowHeight=t,ARRAY.push(this)},destroyed:function(){var t=this;ARRAY=ARRAY.filter((function(e){return e!==t}))},methods:{updateItemListData:function(){this.setData({itemListData:this.children.map((function(t){return t.data}))})},updateChildrenData:function(){this.children.forEach((function(t){t.updateDataFromParent()}))},toggleItem:function(t){this.children.forEach((function(e,n){var a=e.data.showPopup;n===t?e.toggle():a&&e.toggle(!1,{immediate:!0})}))},close:function(){this.children.forEach((function(t){t.toggle(!1,{immediate:!0})}))},getChildWrapperStyle:function(){var t=this,e=this.data,n=e.zIndex,a=e.direction;return(0,utils_1.getRect)(this,".van-dropdown-menu").then((function(e){var i=e.top,o=void 0===i?0:i,r=e.bottom,d="down"===a?void 0===r?0:r:t.windowHeight-o,l="z-index: ".concat(n,";");return l+="down"===a?"top: ".concat((0,utils_1.addUnit)(d),";"):"bottom: ".concat((0,utils_1.addUnit)(d),";")}))},onTitleTap:function(t){var e=this,n=t.currentTarget.dataset.index;this.children[n].data.disabled||(ARRAY.forEach((function(t){t&&t.data.closeOnClickOutside&&t!==e&&t.close()})),this.toggleItem(n))}}});
//# sourceMappingURL=index.js.map